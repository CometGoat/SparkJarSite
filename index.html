<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Spark Jar | In-Engine | Design</title>
        <link rel="stylesheet" href="styles.css">
        <script src="./node_modules/@rive-app/canvas/rive.js"></script>
    </head>

    <body>

        <div id="body-div">

            <div id="console-container" class="full-screen-rive">
                <canvas id="console-rive" width="1024" height="1536"></canvas>
                <div class="project-button" onclick="clickProject()"></div>
                <div class="services-button" onclick="clickServices()"></div>
                <div class="start-button" onclick="clickStart()"></div>
            </div>

            <!--<div id="nav-bar">
                <h1>Home</h1>
                <h1>Services</h1>
                <h1>Work</h1>
            </div> -->

            <div id="width-margin">
                <div id="height-margin">
                    <canvas id="logo-rive" width="1024" height="1024"></canvas>
                </div>
            </div>

            <div id="page-container">
                <h1>test</h1>
                <h1>test</h1>
                <h1>teest</h1>
                <h1>test</h1>
                <h1>teest</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>teest</h1>
                <h1>test</h1>
                <h1>teest</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>teeest</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>teest</h1>
                <h1>teest</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>teeeest</h1>
                <h1>test</h1>
                <h1>test</h1>
                <h1>teeest</h1>
                <h1>test</h1>
                <h1>teeeeeeest</h1>
            </div>

        </div>

        <script>
            const r = new rive.Rive({
                src: './public/jar_spark.riv',
                canvas: document.getElementById("logo-rive"),
                autoplay: true,
                stateMachines: ["State Machine 1", ""],
                onLoad: () => {
                    r.resizeDrawingSurfaceToCanvas();
                }
            });

            const i = new rive.Rive({
                src: './public/gameboy.riv',
                canvas: document.getElementById("console-rive"),
                autoplay: true,
                stateMachines: ["State Machine 1", ""],
                onLoad: () => {
                    i.resizeDrawingSurfaceToCanvas();
                }
            });

            var isGame = true;
            function clickProject(){
                isGame = !isGame;
                if(isGame) i.play("GAME -> TRAILER");
                else i.play("TRAILER -> GAME");
            }

            var servicesIndex = 6;
            function clickServices(){
                servicesIndex++;
                if (servicesIndex > 6) servicesIndex = 0;

                if(servicesIndex == 0) i.play("IN-ENGINE -> CAMERA");
                else if(servicesIndex == 1) i.play("CAMERA -> RENDERING");
                else if(servicesIndex == 2) i.play("RENDERING -> ANIMATION");
                else if(servicesIndex == 3) i.play("ANIMATION -> TECH-ART");
                else if(servicesIndex == 4) i.play("TECH-ART -> PROGRAMMING");
                else if(servicesIndex == 5) i.play("PROGRAMMING -> AUDIO");
                else if(servicesIndex == 6) i.play("AUDIO -> IN-ENGINE");
            }

            function clickStart(){
                var pageContainer = document.getElementById("page-container");
                pageContainer.style.display = "block";
                document.getElementById("console-container").style.position = "relative";

                pageContainer.scrollIntoView({behavior: "smooth"});
                setTimeout(function(){document.rootElement.style.overflow = "visible";}, 1000);
            }
        </script>

    </body>

</html>